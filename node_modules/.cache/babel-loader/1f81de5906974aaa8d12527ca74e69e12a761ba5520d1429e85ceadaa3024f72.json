{"ast":null,"code":"import React,{useState}from'react';import{Link}from'react-router-dom';import api from'../config/axios';import'./Auth.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ForgotPassword=()=>{const[email,setEmail]=useState('');const[error,setError]=useState('');const[success,setSuccess]=useState('');const[loading,setLoading]=useState(false);const handleSubmit=async e=>{e.preventDefault();setError('');setSuccess('');setLoading(true);if(!email){setError('Please enter your email address');setLoading(false);return;}try{const res=await api.post('/api/auth/forgot-password',{email});if(res.status===200||res.status===201){setSuccess(res.data.message||'Password reset link has been sent to your email');setEmail('');}}catch(error){var _error$response,_error$response2;console.error('Forgot password error:',error);console.error('Error details:',{message:error.message,response:(_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data,status:(_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.status,code:error.code,request:error.request});// Handle different types of errors\nlet errorMessage='Failed to send reset link. Please try again.';if(error.code==='ECONNREFUSED'||error.code==='ERR_NETWORK'){errorMessage='Cannot connect to server. Please make sure the server is running.';}else if(error.response){var _error$response$data,_error$response$data2;// Server responded with error status\nerrorMessage=((_error$response$data=error.response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||((_error$response$data2=error.response.data)===null||_error$response$data2===void 0?void 0:_error$response$data2.error)||\"Server error: \".concat(error.response.status);// If it's a server error about email configuration, show helpful message\nif(error.response.status===500&&errorMessage.includes('Email service')){errorMessage='Email service is not configured. Please contact the administrator.';}}else if(error.request){// Request was made but no response received\nerrorMessage='No response from server. Please check your connection.';}else{// Something else happened\nerrorMessage=error.message||errorMessage;}setError(errorMessage);}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"auth-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"auth-card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"auth-title\",children:\"Forgot Password\"}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-error\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exclamation-circle\"}),\" \",error]}),success&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-success\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-check-circle\"}),\" \",success]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"auth-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"email\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-envelope\"}),\" Email Address\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",className:\"form-control\",value:email,onChange:e=>setEmail(e.target.value),required:true,placeholder:\"Enter your registered email\",autoFocus:true})]}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'13px',color:'#6b7280',marginBottom:'15px'},children:\"Enter your email address and we'll send you a link to reset your password.\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary btn-block\",disabled:loading,children:loading?'Sending...':'Send Reset Link'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"auth-footer\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Remember your password? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Sign In\"})]})})]})});};export default ForgotPassword;","map":{"version":3,"names":["React","useState","Link","api","jsx","_jsx","jsxs","_jsxs","ForgotPassword","email","setEmail","error","setError","success","setSuccess","loading","setLoading","handleSubmit","e","preventDefault","res","post","status","data","message","_error$response","_error$response2","console","response","code","request","errorMessage","_error$response$data","_error$response$data2","concat","includes","className","children","onSubmit","htmlFor","type","id","name","value","onChange","target","required","placeholder","autoFocus","style","fontSize","color","marginBottom","disabled","to"],"sources":["/Users/ashishpimple/Desktop/GIT/client/src/pages/ForgotPassword.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport api from '../config/axios';\nimport './Auth.css';\n\nconst ForgotPassword = () => {\n  const [email, setEmail] = useState('');\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n    setSuccess('');\n    setLoading(true);\n\n    if (!email) {\n      setError('Please enter your email address');\n      setLoading(false);\n      return;\n    }\n\n    try {\n      const res = await api.post('/api/auth/forgot-password', { email });\n      if (res.status === 200 || res.status === 201) {\n        setSuccess(res.data.message || 'Password reset link has been sent to your email');\n        setEmail('');\n      }\n    } catch (error) {\n      console.error('Forgot password error:', error);\n      console.error('Error details:', {\n        message: error.message,\n        response: error.response?.data,\n        status: error.response?.status,\n        code: error.code,\n        request: error.request\n      });\n      \n      // Handle different types of errors\n      let errorMessage = 'Failed to send reset link. Please try again.';\n      \n      if (error.code === 'ECONNREFUSED' || error.code === 'ERR_NETWORK') {\n        errorMessage = 'Cannot connect to server. Please make sure the server is running.';\n      } else if (error.response) {\n        // Server responded with error status\n        errorMessage = error.response.data?.message || \n                      error.response.data?.error || \n                      `Server error: ${error.response.status}`;\n        \n        // If it's a server error about email configuration, show helpful message\n        if (error.response.status === 500 && errorMessage.includes('Email service')) {\n          errorMessage = 'Email service is not configured. Please contact the administrator.';\n        }\n      } else if (error.request) {\n        // Request was made but no response received\n        errorMessage = 'No response from server. Please check your connection.';\n      } else {\n        // Something else happened\n        errorMessage = error.message || errorMessage;\n      }\n      \n      setError(errorMessage);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"auth-container\">\n      <div className=\"auth-card\">\n        <h2 className=\"auth-title\">Forgot Password</h2>\n        {error && (\n          <div className=\"alert alert-error\">\n            <i className=\"fas fa-exclamation-circle\"></i> {error}\n          </div>\n        )}\n        {success && (\n          <div className=\"alert alert-success\">\n            <i className=\"fas fa-check-circle\"></i> {success}\n          </div>\n        )}\n        <form onSubmit={handleSubmit} className=\"auth-form\">\n          <div className=\"form-group\">\n            <label htmlFor=\"email\">\n              <i className=\"fas fa-envelope\"></i> Email Address\n            </label>\n            <input\n              type=\"email\"\n              id=\"email\"\n              name=\"email\"\n              className=\"form-control\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              required\n              placeholder=\"Enter your registered email\"\n              autoFocus\n            />\n          </div>\n          <p style={{ fontSize: '13px', color: '#6b7280', marginBottom: '15px' }}>\n            Enter your email address and we'll send you a link to reset your password.\n          </p>\n          <button type=\"submit\" className=\"btn btn-primary btn-block\" disabled={loading}>\n            {loading ? 'Sending...' : 'Send Reset Link'}\n          </button>\n        </form>\n        <div className=\"auth-footer\">\n          <p>Remember your password? <Link to=\"/login\">Sign In</Link></p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ForgotPassword;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}