{"ast":null,"code":"import _objectSpread from\"/Users/ashishpimple/Desktop/GIT/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{useNavigate}from'react-router-dom';import api from'../config/axios';import'./SubmitGrievance.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const SubmitGrievance=()=>{const[formData,setFormData]=useState({subject:'',category:'',description:'',priority:'medium'});const[error,setError]=useState('');const[success,setSuccess]=useState('');const[loading,setLoading]=useState(false);const navigate=useNavigate();const handleChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));setError('');};const handleSubmit=async e=>{e.preventDefault();setError('');setSuccess('');if(!formData.subject||!formData.category||!formData.description){setError('Please fill in all required fields');return;}setLoading(true);try{await api.post('/api/grievances',formData);setSuccess('Grievance submitted successfully!');setTimeout(()=>{navigate('/my-grievances');},1500);}catch(error){var _error$response,_error$response$data;setError(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Failed to submit grievance');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"submit-grievance\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Submit New Grievance\"}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-error\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exclamation-circle\"}),\" \",error]}),success&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-success\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-check-circle\"}),\" \",success]}),/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"subject\",children:\"Subject *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"subject\",name:\"subject\",className:\"form-control\",value:formData.subject,onChange:handleChange,required:true,placeholder:\"Enter grievance subject\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"category\",children:\"Category *\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"category\",name:\"category\",className:\"form-control\",value:formData.category,onChange:handleChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Category\"}),/*#__PURE__*/_jsx(\"option\",{value:\"academic\",children:\"Academic\"}),/*#__PURE__*/_jsx(\"option\",{value:\"administrative\",children:\"Administrative\"}),/*#__PURE__*/_jsx(\"option\",{value:\"infrastructure\",children:\"Infrastructure\"}),/*#__PURE__*/_jsx(\"option\",{value:\"hostel\",children:\"Hostel\"}),/*#__PURE__*/_jsx(\"option\",{value:\"library\",children:\"Library\"}),/*#__PURE__*/_jsx(\"option\",{value:\"examination\",children:\"Examination\"}),/*#__PURE__*/_jsx(\"option\",{value:\"other\",children:\"Other\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"priority\",children:\"Priority\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"priority\",name:\"priority\",className:\"form-control\",value:formData.priority,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"low\",children:\"Low\"}),/*#__PURE__*/_jsx(\"option\",{value:\"medium\",children:\"Medium\"}),/*#__PURE__*/_jsx(\"option\",{value:\"high\",children:\"High\"}),/*#__PURE__*/_jsx(\"option\",{value:\"urgent\",children:\"Urgent\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Description *\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"description\",name:\"description\",className:\"form-control\",value:formData.description,onChange:handleChange,required:true,rows:\"8\",placeholder:\"Describe your grievance in detail...\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",disabled:loading,children:loading?'Submitting...':'Submit Grievance'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:()=>navigate('/dashboard'),children:\"Cancel\"})]})]})})]})});};export default SubmitGrievance;","map":{"version":3,"names":["React","useState","useNavigate","api","jsx","_jsx","jsxs","_jsxs","SubmitGrievance","formData","setFormData","subject","category","description","priority","error","setError","success","setSuccess","loading","setLoading","navigate","handleChange","e","_objectSpread","target","name","value","handleSubmit","preventDefault","post","setTimeout","_error$response","_error$response$data","response","data","message","className","children","onSubmit","htmlFor","type","id","onChange","required","placeholder","rows","disabled","onClick"],"sources":["/Users/ashishpimple/Desktop/GIT/client/src/pages/SubmitGrievance.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport api from '../config/axios';\nimport './SubmitGrievance.css';\n\nconst SubmitGrievance = () => {\n  const [formData, setFormData] = useState({\n    subject: '',\n    category: '',\n    description: '',\n    priority: 'medium'\n  });\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n\n  const handleChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n    setError('');\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n    setSuccess('');\n\n    if (!formData.subject || !formData.category || !formData.description) {\n      setError('Please fill in all required fields');\n      return;\n    }\n\n    setLoading(true);\n\n    try {\n      await api.post('/api/grievances', formData);\n      setSuccess('Grievance submitted successfully!');\n      setTimeout(() => {\n        navigate('/my-grievances');\n      }, 1500);\n    } catch (error) {\n      setError(error.response?.data?.message || 'Failed to submit grievance');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"submit-grievance\">\n        <h1>Submit New Grievance</h1>\n        {error && (\n          <div className=\"alert alert-error\">\n            <i className=\"fas fa-exclamation-circle\"></i> {error}\n          </div>\n        )}\n        {success && (\n          <div className=\"alert alert-success\">\n            <i className=\"fas fa-check-circle\"></i> {success}\n          </div>\n        )}\n        <div className=\"card\">\n          <form onSubmit={handleSubmit}>\n            <div className=\"form-group\">\n              <label htmlFor=\"subject\">Subject *</label>\n              <input\n                type=\"text\"\n                id=\"subject\"\n                name=\"subject\"\n                className=\"form-control\"\n                value={formData.subject}\n                onChange={handleChange}\n                required\n                placeholder=\"Enter grievance subject\"\n              />\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"category\">Category *</label>\n              <select\n                id=\"category\"\n                name=\"category\"\n                className=\"form-control\"\n                value={formData.category}\n                onChange={handleChange}\n                required\n              >\n                <option value=\"\">Select Category</option>\n                <option value=\"academic\">Academic</option>\n                <option value=\"administrative\">Administrative</option>\n                <option value=\"infrastructure\">Infrastructure</option>\n                <option value=\"hostel\">Hostel</option>\n                <option value=\"library\">Library</option>\n                <option value=\"examination\">Examination</option>\n                <option value=\"other\">Other</option>\n              </select>\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"priority\">Priority</label>\n              <select\n                id=\"priority\"\n                name=\"priority\"\n                className=\"form-control\"\n                value={formData.priority}\n                onChange={handleChange}\n              >\n                <option value=\"low\">Low</option>\n                <option value=\"medium\">Medium</option>\n                <option value=\"high\">High</option>\n                <option value=\"urgent\">Urgent</option>\n              </select>\n            </div>\n            <div className=\"form-group\">\n              <label htmlFor=\"description\">Description *</label>\n              <textarea\n                id=\"description\"\n                name=\"description\"\n                className=\"form-control\"\n                value={formData.description}\n                onChange={handleChange}\n                required\n                rows=\"8\"\n                placeholder=\"Describe your grievance in detail...\"\n              ></textarea>\n            </div>\n            <div className=\"form-actions\">\n              <button type=\"submit\" className=\"btn btn-primary\" disabled={loading}>\n                {loading ? 'Submitting...' : 'Submit Grievance'}\n              </button>\n              <button\n                type=\"button\"\n                className=\"btn btn-secondary\"\n                onClick={() => navigate('/dashboard')}\n              >\n                Cancel\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default SubmitGrievance;\n\n"],"mappings":"2HAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,GAAG,KAAM,iBAAiB,CACjC,MAAO,uBAAuB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/B,KAAM,CAAAC,eAAe,CAAGA,CAAA,GAAM,CAC5B,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGT,QAAQ,CAAC,CACvCU,OAAO,CAAE,EAAE,CACXC,QAAQ,CAAE,EAAE,CACZC,WAAW,CAAE,EAAE,CACfC,QAAQ,CAAE,QACZ,CAAC,CAAC,CACF,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACgB,OAAO,CAAEC,UAAU,CAAC,CAAGjB,QAAQ,CAAC,EAAE,CAAC,CAC1C,KAAM,CAACkB,OAAO,CAAEC,UAAU,CAAC,CAAGnB,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAAAoB,QAAQ,CAAGnB,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAoB,YAAY,CAAIC,CAAC,EAAK,CAC1Bb,WAAW,CAAAc,aAAA,CAAAA,aAAA,IACNf,QAAQ,MACX,CAACc,CAAC,CAACE,MAAM,CAACC,IAAI,EAAGH,CAAC,CAACE,MAAM,CAACE,KAAK,EAChC,CAAC,CACFX,QAAQ,CAAC,EAAE,CAAC,CACd,CAAC,CAED,KAAM,CAAAY,YAAY,CAAG,KAAO,CAAAL,CAAC,EAAK,CAChCA,CAAC,CAACM,cAAc,CAAC,CAAC,CAClBb,QAAQ,CAAC,EAAE,CAAC,CACZE,UAAU,CAAC,EAAE,CAAC,CAEd,GAAI,CAACT,QAAQ,CAACE,OAAO,EAAI,CAACF,QAAQ,CAACG,QAAQ,EAAI,CAACH,QAAQ,CAACI,WAAW,CAAE,CACpEG,QAAQ,CAAC,oCAAoC,CAAC,CAC9C,OACF,CAEAI,UAAU,CAAC,IAAI,CAAC,CAEhB,GAAI,CACF,KAAM,CAAAjB,GAAG,CAAC2B,IAAI,CAAC,iBAAiB,CAAErB,QAAQ,CAAC,CAC3CS,UAAU,CAAC,mCAAmC,CAAC,CAC/Ca,UAAU,CAAC,IAAM,CACfV,QAAQ,CAAC,gBAAgB,CAAC,CAC5B,CAAC,CAAE,IAAI,CAAC,CACV,CAAE,MAAON,KAAK,CAAE,KAAAiB,eAAA,CAAAC,oBAAA,CACdjB,QAAQ,CAAC,EAAAgB,eAAA,CAAAjB,KAAK,CAACmB,QAAQ,UAAAF,eAAA,kBAAAC,oBAAA,CAAdD,eAAA,CAAgBG,IAAI,UAAAF,oBAAA,iBAApBA,oBAAA,CAAsBG,OAAO,GAAI,4BAA4B,CAAC,CACzE,CAAC,OAAS,CACRhB,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,mBACEf,IAAA,QAAKgC,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxB/B,KAAA,QAAK8B,SAAS,CAAC,kBAAkB,CAAAC,QAAA,eAC/BjC,IAAA,OAAAiC,QAAA,CAAI,sBAAoB,CAAI,CAAC,CAC5BvB,KAAK,eACJR,KAAA,QAAK8B,SAAS,CAAC,mBAAmB,CAAAC,QAAA,eAChCjC,IAAA,MAAGgC,SAAS,CAAC,2BAA2B,CAAI,CAAC,IAAC,CAACtB,KAAK,EACjD,CACN,CACAE,OAAO,eACNV,KAAA,QAAK8B,SAAS,CAAC,qBAAqB,CAAAC,QAAA,eAClCjC,IAAA,MAAGgC,SAAS,CAAC,qBAAqB,CAAI,CAAC,IAAC,CAACpB,OAAO,EAC7C,CACN,cACDZ,IAAA,QAAKgC,SAAS,CAAC,MAAM,CAAAC,QAAA,cACnB/B,KAAA,SAAMgC,QAAQ,CAAEX,YAAa,CAAAU,QAAA,eAC3B/B,KAAA,QAAK8B,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBjC,IAAA,UAAOmC,OAAO,CAAC,SAAS,CAAAF,QAAA,CAAC,WAAS,CAAO,CAAC,cAC1CjC,IAAA,UACEoC,IAAI,CAAC,MAAM,CACXC,EAAE,CAAC,SAAS,CACZhB,IAAI,CAAC,SAAS,CACdW,SAAS,CAAC,cAAc,CACxBV,KAAK,CAAElB,QAAQ,CAACE,OAAQ,CACxBgC,QAAQ,CAAErB,YAAa,CACvBsB,QAAQ,MACRC,WAAW,CAAC,yBAAyB,CACtC,CAAC,EACC,CAAC,cACNtC,KAAA,QAAK8B,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBjC,IAAA,UAAOmC,OAAO,CAAC,UAAU,CAAAF,QAAA,CAAC,YAAU,CAAO,CAAC,cAC5C/B,KAAA,WACEmC,EAAE,CAAC,UAAU,CACbhB,IAAI,CAAC,UAAU,CACfW,SAAS,CAAC,cAAc,CACxBV,KAAK,CAAElB,QAAQ,CAACG,QAAS,CACzB+B,QAAQ,CAAErB,YAAa,CACvBsB,QAAQ,MAAAN,QAAA,eAERjC,IAAA,WAAQsB,KAAK,CAAC,EAAE,CAAAW,QAAA,CAAC,iBAAe,CAAQ,CAAC,cACzCjC,IAAA,WAAQsB,KAAK,CAAC,UAAU,CAAAW,QAAA,CAAC,UAAQ,CAAQ,CAAC,cAC1CjC,IAAA,WAAQsB,KAAK,CAAC,gBAAgB,CAAAW,QAAA,CAAC,gBAAc,CAAQ,CAAC,cACtDjC,IAAA,WAAQsB,KAAK,CAAC,gBAAgB,CAAAW,QAAA,CAAC,gBAAc,CAAQ,CAAC,cACtDjC,IAAA,WAAQsB,KAAK,CAAC,QAAQ,CAAAW,QAAA,CAAC,QAAM,CAAQ,CAAC,cACtCjC,IAAA,WAAQsB,KAAK,CAAC,SAAS,CAAAW,QAAA,CAAC,SAAO,CAAQ,CAAC,cACxCjC,IAAA,WAAQsB,KAAK,CAAC,aAAa,CAAAW,QAAA,CAAC,aAAW,CAAQ,CAAC,cAChDjC,IAAA,WAAQsB,KAAK,CAAC,OAAO,CAAAW,QAAA,CAAC,OAAK,CAAQ,CAAC,EAC9B,CAAC,EACN,CAAC,cACN/B,KAAA,QAAK8B,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBjC,IAAA,UAAOmC,OAAO,CAAC,UAAU,CAAAF,QAAA,CAAC,UAAQ,CAAO,CAAC,cAC1C/B,KAAA,WACEmC,EAAE,CAAC,UAAU,CACbhB,IAAI,CAAC,UAAU,CACfW,SAAS,CAAC,cAAc,CACxBV,KAAK,CAAElB,QAAQ,CAACK,QAAS,CACzB6B,QAAQ,CAAErB,YAAa,CAAAgB,QAAA,eAEvBjC,IAAA,WAAQsB,KAAK,CAAC,KAAK,CAAAW,QAAA,CAAC,KAAG,CAAQ,CAAC,cAChCjC,IAAA,WAAQsB,KAAK,CAAC,QAAQ,CAAAW,QAAA,CAAC,QAAM,CAAQ,CAAC,cACtCjC,IAAA,WAAQsB,KAAK,CAAC,MAAM,CAAAW,QAAA,CAAC,MAAI,CAAQ,CAAC,cAClCjC,IAAA,WAAQsB,KAAK,CAAC,QAAQ,CAAAW,QAAA,CAAC,QAAM,CAAQ,CAAC,EAChC,CAAC,EACN,CAAC,cACN/B,KAAA,QAAK8B,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBjC,IAAA,UAAOmC,OAAO,CAAC,aAAa,CAAAF,QAAA,CAAC,eAAa,CAAO,CAAC,cAClDjC,IAAA,aACEqC,EAAE,CAAC,aAAa,CAChBhB,IAAI,CAAC,aAAa,CAClBW,SAAS,CAAC,cAAc,CACxBV,KAAK,CAAElB,QAAQ,CAACI,WAAY,CAC5B8B,QAAQ,CAAErB,YAAa,CACvBsB,QAAQ,MACRE,IAAI,CAAC,GAAG,CACRD,WAAW,CAAC,sCAAsC,CACzC,CAAC,EACT,CAAC,cACNtC,KAAA,QAAK8B,SAAS,CAAC,cAAc,CAAAC,QAAA,eAC3BjC,IAAA,WAAQoC,IAAI,CAAC,QAAQ,CAACJ,SAAS,CAAC,iBAAiB,CAACU,QAAQ,CAAE5B,OAAQ,CAAAmB,QAAA,CACjEnB,OAAO,CAAG,eAAe,CAAG,kBAAkB,CACzC,CAAC,cACTd,IAAA,WACEoC,IAAI,CAAC,QAAQ,CACbJ,SAAS,CAAC,mBAAmB,CAC7BW,OAAO,CAAEA,CAAA,GAAM3B,QAAQ,CAAC,YAAY,CAAE,CAAAiB,QAAA,CACvC,QAED,CAAQ,CAAC,EACN,CAAC,EACF,CAAC,CACJ,CAAC,EACH,CAAC,CACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAA9B,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}