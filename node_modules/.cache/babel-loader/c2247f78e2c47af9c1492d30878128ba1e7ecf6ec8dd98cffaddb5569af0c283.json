{"ast":null,"code":"import _objectSpread from\"/Users/ashishpimple/Desktop/GIT/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useParams,useNavigate,Link}from'react-router-dom';import api from'../config/axios';import'./Auth.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ResetPassword=()=>{const{token}=useParams();const navigate=useNavigate();const[formData,setFormData]=useState({password:'',confirmPassword:''});const[error,setError]=useState('');const[success,setSuccess]=useState('');const[loading,setLoading]=useState(false);useEffect(()=>{if(!token){setError('Invalid reset token');}},[token]);const handleChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));setError('');};const handleSubmit=async e=>{e.preventDefault();setError('');setSuccess('');if(!formData.password||!formData.confirmPassword){setError('Please fill in all fields');return;}if(formData.password.length<4){setError('Password must be at least 4 characters long');return;}if(formData.password!==formData.confirmPassword){setError('Passwords do not match');return;}setLoading(true);try{await api.post('/api/auth/reset-password',{token,password:formData.password});setSuccess('Password has been reset successfully! Redirecting to login...');setTimeout(()=>{navigate('/login');},2000);}catch(error){var _error$response,_error$response$data;setError(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Failed to reset password. Please try again.');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"auth-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"auth-card\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"auth-title\",children:\"Reset Password\"}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-error\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exclamation-circle\"}),\" \",error]}),success&&/*#__PURE__*/_jsxs(\"div\",{className:\"alert alert-success\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-check-circle\"}),\" \",success]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"auth-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"password\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-lock\"}),\" New Password\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",className:\"form-control\",value:formData.password,onChange:handleChange,required:true,minLength:\"4\",placeholder:\"Enter new password\",autoFocus:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"confirmPassword\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-lock\"}),\" Confirm New Password\"]}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"confirmPassword\",name:\"confirmPassword\",className:\"form-control\",value:formData.confirmPassword,onChange:handleChange,required:true,minLength:\"4\",placeholder:\"Confirm new password\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary btn-block\",disabled:loading||!token,children:loading?'Resetting...':'Reset Password'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"auth-footer\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Remember your password? \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Sign In\"})]})})]})});};export default ResetPassword;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","Link","api","jsx","_jsx","jsxs","_jsxs","ResetPassword","token","navigate","formData","setFormData","password","confirmPassword","error","setError","success","setSuccess","loading","setLoading","handleChange","e","_objectSpread","target","name","value","handleSubmit","preventDefault","length","post","setTimeout","_error$response","_error$response$data","response","data","message","className","children","onSubmit","htmlFor","type","id","onChange","required","minLength","placeholder","autoFocus","disabled","to"],"sources":["/Users/ashishpimple/Desktop/GIT/client/src/pages/ResetPassword.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate, Link } from 'react-router-dom';\nimport api from '../config/axios';\nimport './Auth.css';\n\nconst ResetPassword = () => {\n  const { token } = useParams();\n  const navigate = useNavigate();\n  const [formData, setFormData] = useState({\n    password: '',\n    confirmPassword: ''\n  });\n  const [error, setError] = useState('');\n  const [success, setSuccess] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    if (!token) {\n      setError('Invalid reset token');\n    }\n  }, [token]);\n\n  const handleChange = (e) => {\n    setFormData({\n      ...formData,\n      [e.target.name]: e.target.value\n    });\n    setError('');\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n    setSuccess('');\n\n    if (!formData.password || !formData.confirmPassword) {\n      setError('Please fill in all fields');\n      return;\n    }\n\n    if (formData.password.length < 4) {\n      setError('Password must be at least 4 characters long');\n      return;\n    }\n\n    if (formData.password !== formData.confirmPassword) {\n      setError('Passwords do not match');\n      return;\n    }\n\n    setLoading(true);\n\n    try {\n      await api.post('/api/auth/reset-password', {\n        token,\n        password: formData.password\n      });\n      setSuccess('Password has been reset successfully! Redirecting to login...');\n      setTimeout(() => {\n        navigate('/login');\n      }, 2000);\n    } catch (error) {\n      setError(error.response?.data?.message || 'Failed to reset password. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"auth-container\">\n      <div className=\"auth-card\">\n        <h2 className=\"auth-title\">Reset Password</h2>\n        {error && (\n          <div className=\"alert alert-error\">\n            <i className=\"fas fa-exclamation-circle\"></i> {error}\n          </div>\n        )}\n        {success && (\n          <div className=\"alert alert-success\">\n            <i className=\"fas fa-check-circle\"></i> {success}\n          </div>\n        )}\n        <form onSubmit={handleSubmit} className=\"auth-form\">\n          <div className=\"form-group\">\n            <label htmlFor=\"password\">\n              <i className=\"fas fa-lock\"></i> New Password\n            </label>\n            <input\n              type=\"password\"\n              id=\"password\"\n              name=\"password\"\n              className=\"form-control\"\n              value={formData.password}\n              onChange={handleChange}\n              required\n              minLength=\"4\"\n              placeholder=\"Enter new password\"\n              autoFocus\n            />\n          </div>\n          <div className=\"form-group\">\n            <label htmlFor=\"confirmPassword\">\n              <i className=\"fas fa-lock\"></i> Confirm New Password\n            </label>\n            <input\n              type=\"password\"\n              id=\"confirmPassword\"\n              name=\"confirmPassword\"\n              className=\"form-control\"\n              value={formData.confirmPassword}\n              onChange={handleChange}\n              required\n              minLength=\"4\"\n              placeholder=\"Confirm new password\"\n            />\n          </div>\n          <button type=\"submit\" className=\"btn btn-primary btn-block\" disabled={loading || !token}>\n            {loading ? 'Resetting...' : 'Reset Password'}\n          </button>\n        </form>\n        <div className=\"auth-footer\">\n          <p>Remember your password? <Link to=\"/login\">Sign In</Link></p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ResetPassword;\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}